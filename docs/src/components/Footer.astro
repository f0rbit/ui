---
import EditLink from 'virtual:starlight/components/EditLink';
import LastUpdated from 'virtual:starlight/components/LastUpdated';
import Pagination from 'virtual:starlight/components/Pagination';

const base = import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : `${import.meta.env.BASE_URL}/`;

const links = [
  { label: "GitHub", href: "https://github.com/f0rbit/ui" },
  { label: "Docs", href: `${base}getting-started/installation` },
  { label: "Components", href: `${base}components/button` }
];
---

<footer class="sl-flex starlight-footer">
	<div class="meta sl-flex">
		<EditLink />
		<LastUpdated />
	</div>
	<Pagination />

	<div class="site-footer">
		<div class="footer-left">
			<svg class="footer-logo" viewBox="0 0 32 32" aria-hidden="true">
				<rect width="32" height="32" rx="6" fill="currentColor" fill-opacity="0.1"/>
				<rect width="32" height="32" rx="6" fill="none" stroke="currentColor" stroke-opacity="0.3"/>
				<text x="16" y="22" text-anchor="middle" font-size="16" font-family="system-ui" fill="currentColor">ui</text>
			</svg>
			<span class="footer-brand">@f0rbit/ui</span>
			<span class="footer-divider">·</span>
			<span class="footer-license">MIT License · {new Date().getFullYear()}</span>
		</div>
		<nav class="footer-links">
			{links.map((link) => (
				<a href={link.href} class="footer-link">{link.label}</a>
			))}
		</nav>
	</div>
</footer>

<style>
	.starlight-footer {
		flex-direction: column;
		gap: 1.5rem;
	}
	
	.meta {
		gap: 0.75rem 3rem;
		justify-content: space-between;
		flex-wrap: wrap;
		font-size: var(--sl-text-sm);
		color: var(--sl-color-gray-3);
	}
	
	.meta > :global(p:only-child) {
		margin-inline-start: auto;
	}

	.site-footer {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding-top: var(--space-lg);
		margin-top: var(--space-md);
		border-top: 1px solid var(--border);
	}

	.footer-left {
		display: flex;
		align-items: center;
		gap: var(--space-sm);
	}

	.footer-logo {
		width: 1.25rem;
		height: 1.25rem;
		color: var(--fg-muted);
	}

	.footer-brand {
		font-size: var(--text-sm);
		font-weight: 600;
		color: var(--fg);
	}

	.footer-divider {
		color: var(--fg-faint);
	}

	.footer-license {
		font-size: var(--text-sm);
		color: var(--fg-faint);
	}

	.footer-links {
		display: flex;
		gap: var(--space-md);
	}

	.footer-link {
		font-size: var(--text-sm);
		color: var(--fg-muted);
		text-decoration: none;
		transition: color var(--transition);
	}

	.footer-link:hover {
		color: var(--fg);
	}

	@media (max-width: 600px) {
		.site-footer {
			flex-direction: column;
			gap: var(--space-md);
			align-items: flex-start;
		}

		.footer-left {
			flex-wrap: wrap;
		}
	}
</style>
